<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPAS-analisys: mpas_log Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logoMonanColor_75x75.png"/></td>
  <td id="projectalign">
   <div id="projectname">MPAS-analisys<span id="projectnumber">&#160;teste</span>
   </div>
   <div id="projectbrief">teste</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">mpas_log Module Reference</div></div>
</div><!--header-->
<div class="contents">

<p>\MPAS message logging manager  
<a href="namespacempas__log.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:aa864409b1f9ad48e7d79858c1af53288"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempas__log.html#aa864409b1f9ad48e7d79858c1af53288">mpas_log_init</a> (coreLogInfo, domain, unitNumbers, err)</td></tr>
<tr class="memdesc:aa864409b1f9ad48e7d79858c1af53288"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes log manager.  <a href="namespacempas__log.html#aa864409b1f9ad48e7d79858c1af53288">More...</a><br /></td></tr>
<tr class="separator:aa864409b1f9ad48e7d79858c1af53288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f50143cbdc8be613e5105369cd0537"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempas__log.html#ad1f50143cbdc8be613e5105369cd0537">mpas_log_open</a> (openErrorFile, err)</td></tr>
<tr class="memdesc:ad1f50143cbdc8be613e5105369cd0537"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects to a log file for the log module to use.  <a href="namespacempas__log.html#ad1f50143cbdc8be613e5105369cd0537">More...</a><br /></td></tr>
<tr class="separator:ad1f50143cbdc8be613e5105369cd0537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74383116fd6bd17e9b94b49f81860e93"><td class="memItemLeft" align="right" valign="top">recursive subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempas__log.html#a74383116fd6bd17e9b94b49f81860e93">mpas_log_write</a> (message, messageType, masterOnly, flushNow, intArgs, realArgs, logicArgs, err)</td></tr>
<tr class="memdesc:a74383116fd6bd17e9b94b49f81860e93"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes a message to the log file.  <a href="namespacempas__log.html#a74383116fd6bd17e9b94b49f81860e93">More...</a><br /></td></tr>
<tr class="separator:a74383116fd6bd17e9b94b49f81860e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1942a7287d19eccab7d8c967510ec992"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempas__log.html#a1942a7287d19eccab7d8c967510ec992">mpas_log_finalize</a> (err)</td></tr>
<tr class="memdesc:a1942a7287d19eccab7d8c967510ec992"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes the log manager.  <a href="namespacempas__log.html#a1942a7287d19eccab7d8c967510ec992">More...</a><br /></td></tr>
<tr class="separator:a1942a7287d19eccab7d8c967510ec992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bb4c34915b68789442529dc37aa705b"><td class="memItemLeft" align="right" valign="top">character(len=:) function, allocatable, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempas__log.html#a4bb4c34915b68789442529dc37aa705b">mpas_log_escape_dollars</a> (str)</td></tr>
<tr class="memdesc:a4bb4c34915b68789442529dc37aa705b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes occurrences of '$' character to '$$' in a string.  <a href="namespacempas__log.html#a4bb4c34915b68789442529dc37aa705b">More...</a><br /></td></tr>
<tr class="separator:a4bb4c34915b68789442529dc37aa705b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a6dc52d945b79f9baee42caf8b30edb67"><td class="memItemLeft" align="right" valign="top">type(mpas_log_type), pointer, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacempas__log.html#a6dc52d945b79f9baee42caf8b30edb67">mpas_log_info</a> =&gt; null()</td></tr>
<tr class="memdesc:a6dc52d945b79f9baee42caf8b30edb67"><td class="mdescLeft">&#160;</td><td class="mdescRight">derived type holding the metadata for a logging manager instance Each core needs to set this up. Note that this pointer can be externally reassigned if the logging instance needs to be swapped (e.g., when multiple logging instances are running in an ESM).  <a href="namespacempas__log.html#a6dc52d945b79f9baee42caf8b30edb67">More...</a><br /></td></tr>
<tr class="separator:a6dc52d945b79f9baee42caf8b30edb67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >\MPAS message logging manager </p>
<dl class="section author"><dt>Author</dt><dd>Matt Hoffman </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14 February 2017</dd></dl>
<p>This module contains the routines for managing the writing of messages to log files. The log module operates around a variable named mpas_log_info that contains all of the external information needed to perform logging operations for the current model configuration. mpas_log_info is a module level pointer to the active core's mpas_log_type instance. This allows the core's domain instance to "own" the log manager, while the log module has internal access to it. This approach has two benefits:</p><ol type="1">
<li>Calls to mpas_write_log do not require any configuration metadata (e.g., a unit number) to be passed in, simplifying the call API.</li>
<li>Because the log module uses a pointer to a mpas_log_type instance, different instances can be swapped in and out from higher levels of the modeling framework during execution. This is necessary to allow multiple different MPAS cores to operate in the same climate model, but would also apply to multiple MPAS cores running in a single MPAS executable (if this is ever supported), or multiple domain instances of the same MPAS core running together. (It is the responsibility of the higher-level driver <a class="el" href="setup__mpas__radial__IC_8m.html#aaf2d3633807185196aeffa05fc4a5556">code(s)</a> to manage any swapping of mpas_log_type instances.) </li>
</ol>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a4bb4c34915b68789442529dc37aa705b" name="a4bb4c34915b68789442529dc37aa705b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bb4c34915b68789442529dc37aa705b">&#9670;&#160;</a></span>mpas_log_escape_dollars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">character (len=:) function, allocatable, public mpas_log::mpas_log_escape_dollars </td>
          <td>(</td>
          <td class="paramtype">character (len=*), intent(in)&#160;</td>
          <td class="paramname"><em>str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Changes occurrences of '$' character to '$$' in a string. </p>
<dl class="section author"><dt>Author</dt><dd>Michael Duda </dd></dl>
<dl class="section date"><dt>Date</dt><dd>21 March 2017</dd></dl>
<p>This routine changes all occurrences of the '$' character in a string to '$$' so that subsequent expansion of that string during a call to mpas_log_write( ) will not treat the character after the original '$' as a variable to be expanded (e.g., $r).</p>
<p >Note that this routine returns a string of the precise length needed to capture the trimmed input string plus any added '$' characters, so there is no need to wrap the result with trim( ). </p>

<p class="definition">Definition at line <a class="el" href="mpas__log_8F_source.html#l00726">726</a> of file <a class="el" href="mpas__log_8F_source.html">mpas_log.F</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_a4bb4c34915b68789442529dc37aa705b_cgraph.png" border="0" usemap="#anamespacempas__log_a4bb4c34915b68789442529dc37aa705b_cgraph" alt=""/></div>
<map name="anamespacempas__log_a4bb4c34915b68789442529dc37aa705b_cgraph" id="anamespacempas__log_a4bb4c34915b68789442529dc37aa705b_cgraph">
<area shape="rect" title="Changes occurrences of &#39;$&#39; character to &#39;$$&#39; in a string." alt="" coords="5,69,161,109"/>
<area shape="rect" href="namespacempas__c__interfacing.html#a9ceab63b852cb9c4d8b4a29d7d7f4079" title="Converts a C null&#45;terminated string to a Fortran string." alt="" coords="209,5,365,45"/>
<area shape="rect" href="namespacempas__log.html#a1942a7287d19eccab7d8c967510ec992" title="Finalizes the log manager." alt="" coords="209,69,365,109"/>
<area shape="rect" href="namespacempas__log.html#a74383116fd6bd17e9b94b49f81860e93" title="Writes a message to the log file." alt="" coords="413,99,569,139"/>
<area shape="rect" href="namespacempas__log.html#ad1f50143cbdc8be613e5105369cd0537" title="Connects to a log file for the log module to use." alt="" coords="617,51,812,77"/>
<area shape="rect" href="namespacempas__threading.html#a81ccf1fb8a232af4532facd308d5445c" title="MPAS Threading get thread number function." alt="" coords="1100,99,1304,139"/>
<area shape="rect" href="namespacempas__threading.html#a0a14c12e17e33d87ab46d10701fe3a76" title="MPAS Threading in parallel function." alt="" coords="629,156,800,196"/>
<area shape="rect" href="namespacempas__abort.html#a951a52a61219f104a3c718dafed9aab5" title="Forces the exit of all processes in MPI_COMM_WORLD." alt="" coords="860,41,1052,81"/>
<area shape="rect" href="namespacempas__io__units.html#a8a13af4a8cdee0460f86e1fe7bb1b0c3" title="MPAS New unit routine." alt="" coords="1122,35,1282,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_a4bb4c34915b68789442529dc37aa705b_icgraph.png" border="0" usemap="#anamespacempas__log_a4bb4c34915b68789442529dc37aa705b_icgraph" alt=""/></div>
<map name="anamespacempas__log_a4bb4c34915b68789442529dc37aa705b_icgraph" id="anamespacempas__log_a4bb4c34915b68789442529dc37aa705b_icgraph">
<area shape="rect" title="Changes occurrences of &#39;$&#39; character to &#39;$$&#39; in a string." alt="" coords="5,29,161,69"/>
</map>
</div>

</div>
</div>
<a id="a1942a7287d19eccab7d8c967510ec992" name="a1942a7287d19eccab7d8c967510ec992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1942a7287d19eccab7d8c967510ec992">&#9670;&#160;</a></span>mpas_log_finalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public mpas_log::mpas_log_finalize </td>
          <td>(</td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes the log manager. </p>
<dl class="section author"><dt>Author</dt><dd>Matt Hoffman </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14 February 2017</dd></dl>
<p>This routine finalizes the log manager. It prints out logging statistics and closes the log file. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>Output: error flag </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mpas__log_8F_source.html#l00643">643</a> of file <a class="el" href="mpas__log_8F_source.html">mpas_log.F</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_a1942a7287d19eccab7d8c967510ec992_cgraph.png" border="0" usemap="#anamespacempas__log_a1942a7287d19eccab7d8c967510ec992_cgraph" alt=""/></div>
<map name="anamespacempas__log_a1942a7287d19eccab7d8c967510ec992_cgraph" id="anamespacempas__log_a1942a7287d19eccab7d8c967510ec992_cgraph">
<area shape="rect" title="Finalizes the log manager." alt="" coords="5,69,161,109"/>
<area shape="rect" href="namespacempas__log.html#a74383116fd6bd17e9b94b49f81860e93" title="Writes a message to the log file." alt="" coords="209,69,365,109"/>
<area shape="rect" href="namespacempas__log.html#ad1f50143cbdc8be613e5105369cd0537" title="Connects to a log file for the log module to use." alt="" coords="413,23,608,49"/>
<area shape="rect" href="namespacempas__threading.html#a81ccf1fb8a232af4532facd308d5445c" title="MPAS Threading get thread number function." alt="" coords="896,69,1100,109"/>
<area shape="rect" href="namespacempas__threading.html#a0a14c12e17e33d87ab46d10701fe3a76" title="MPAS Threading in parallel function." alt="" coords="425,127,596,167"/>
<area shape="rect" href="namespacempas__abort.html#a951a52a61219f104a3c718dafed9aab5" title="Forces the exit of all processes in MPI_COMM_WORLD." alt="" coords="656,12,848,52"/>
<area shape="rect" href="namespacempas__io__units.html#a8a13af4a8cdee0460f86e1fe7bb1b0c3" title="MPAS New unit routine." alt="" coords="918,5,1078,45"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_a1942a7287d19eccab7d8c967510ec992_icgraph.png" border="0" usemap="#anamespacempas__log_a1942a7287d19eccab7d8c967510ec992_icgraph" alt=""/></div>
<map name="anamespacempas__log_a1942a7287d19eccab7d8c967510ec992_icgraph" id="anamespacempas__log_a1942a7287d19eccab7d8c967510ec992_icgraph">
<area shape="rect" title="Finalizes the log manager." alt="" coords="331,49,487,89"/>
<area shape="rect" href="namespacempas__subdriver.html#aae00bd2cfffeb018c01ed6f07d713ab7" title=" " alt="" coords="112,5,283,45"/>
<area shape="rect" href="namespacempas__log.html#a4bb4c34915b68789442529dc37aa705b" title="Changes occurrences of &#39;$&#39; character to &#39;$$&#39; in a string." alt="" coords="119,93,275,133"/>
<area shape="rect" href="mpas_8F.html#a554ab5092fe5cd669557e865f6018565" title=" " alt="" coords="5,13,64,38"/>
</map>
</div>

</div>
</div>
<a id="aa864409b1f9ad48e7d79858c1af53288" name="aa864409b1f9ad48e7d79858c1af53288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa864409b1f9ad48e7d79858c1af53288">&#9670;&#160;</a></span>mpas_log_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public mpas_log::mpas_log_init </td>
          <td>(</td>
          <td class="paramtype">type (mpas_log_type), intent(inout), pointer&#160;</td>
          <td class="paramname"><em>coreLogInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type (domain_type), intent(in), pointer&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(2), intent(in), optional&#160;</td>
          <td class="paramname"><em>unitNumbers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes log manager. </p>
<dl class="section author"><dt>Author</dt><dd>Matt Hoffman </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14 February 2017</dd></dl>
<p>This routine initializes the log manager for the active core on each task by assigning appropriate values to the members of mpas_log_info, based on the model configuration. mpas_log_info is a module level pointer of the active core's mpas_log_type instance. This allows the core domain instance to "own" the log manager, while the log module has internal access to it. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">domain</td><td>Input: domain information </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unitnumbers</td><td>Input - optional: list of already opened unit numbers for output and error, respectively, to use </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">coreloginfo</td><td>Input/Output: log manager info (already set up by the core) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>Output - Optional: error flag </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mpas__log_8F_source.html#l00098">98</a> of file <a class="el" href="mpas__log_8F_source.html">mpas_log.F</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_aa864409b1f9ad48e7d79858c1af53288_cgraph.png" border="0" usemap="#anamespacempas__log_aa864409b1f9ad48e7d79858c1af53288_cgraph" alt=""/></div>
<map name="anamespacempas__log_aa864409b1f9ad48e7d79858c1af53288_cgraph" id="anamespacempas__log_aa864409b1f9ad48e7d79858c1af53288_cgraph">
<area shape="rect" title="Initializes log manager." alt="" coords="5,42,189,67"/>
<area shape="rect" href="namespacempas__abort.html#a951a52a61219f104a3c718dafed9aab5" title="Forces the exit of all processes in MPI_COMM_WORLD." alt="" coords="237,63,429,103"/>
<area shape="rect" href="namespacempas__io__units.html#a8a13af4a8cdee0460f86e1fe7bb1b0c3" title="MPAS New unit routine." alt="" coords="499,5,659,45"/>
<area shape="rect" href="namespacempas__threading.html#a81ccf1fb8a232af4532facd308d5445c" title="MPAS Threading get thread number function." alt="" coords="477,69,681,109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_aa864409b1f9ad48e7d79858c1af53288_icgraph.png" border="0" usemap="#anamespacempas__log_aa864409b1f9ad48e7d79858c1af53288_icgraph" alt=""/></div>
<map name="anamespacempas__log_aa864409b1f9ad48e7d79858c1af53288_icgraph" id="anamespacempas__log_aa864409b1f9ad48e7d79858c1af53288_icgraph">
<area shape="rect" title="Initializes log manager." alt="" coords="708,205,892,230"/>
<area shape="rect" href="namespaceatm__core__interface.html#af1d21fbc1aa35aec95affe8bbf5f00cb" title="Log setup routine." alt="" coords="498,5,646,45"/>
<area shape="rect" href="namespaceinit__atm__core__interface.html#a574888643486ba4af5c5c6b77add8569" title="Log setup routine." alt="" coords="484,69,660,109"/>
<area shape="rect" href="namespaceli__core__interface.html#a1564bcdae325144610e9b85cd0327e3d" title="Log setup routine." alt="" coords="503,133,641,173"/>
<area shape="rect" href="namespaceocn__core__interface.html#a0d5417549aa3ffdfdfbc427209316606" title="Log setup routine." alt="" coords="499,197,645,237"/>
<area shape="rect" href="namespaceseaice__core__interface.html#a07d35c24ed4c315d9d6e7959fa6e9f91" title="Log setup routine." alt="" coords="490,261,654,301"/>
<area shape="rect" href="namespacesw__core__interface.html#a2ced7a5a128f046148ecd52f105046cd" title="Log setup routine." alt="" coords="498,325,646,365"/>
<area shape="rect" href="namespacetest__core__interface.html#a468ce8ed26183e744d895dac2228d171" title="Log setup routine." alt="" coords="499,389,645,429"/>
<area shape="rect" href="namespaceatm__core__interface.html#a104bd5f2b24ee72dbd378d3f8d853e29" title="Atmosphere core setup routine." alt="" coords="274,5,422,45"/>
<area shape="rect" href="interfacexml__stream__get__attributes.html#a62d18dff6a7fce39175c55fec91108ce" title=" " alt="" coords="5,197,212,237"/>
<area shape="rect" href="namespaceinit__atm__core__interface.html#a6e3e2b14ef27bc9bb6b4f82cbd1b9f7f" title="Init atmosphere core setup routine." alt="" coords="260,69,436,109"/>
<area shape="rect" href="namespaceli__core__interface.html#a2e48e39214f0be7f8ca35c73e7f6de9c" title="Land ice core setup routine." alt="" coords="279,133,417,173"/>
<area shape="rect" href="namespaceocn__core__interface.html#a6a54bf42bf83f0029e83cdc5c8c31799" title="Ocean core setup routine." alt="" coords="275,197,421,237"/>
<area shape="rect" href="namespaceseaice__core__interface.html#a7a4761e7caeae40260cf35fc1c0920eb" title="Seaice core setup routine." alt="" coords="266,261,430,301"/>
<area shape="rect" href="namespacesw__core__interface.html#ae580e0525022db6a50736ac32c4d5ea3" title="Shallow water core setup routine." alt="" coords="274,325,422,365"/>
<area shape="rect" href="namespacetest__core__interface.html#a12096f17bb769e30742bcf075f3663cb" title="Test core setup routine." alt="" coords="275,389,421,429"/>
</map>
</div>

</div>
</div>
<a id="ad1f50143cbdc8be613e5105369cd0537" name="ad1f50143cbdc8be613e5105369cd0537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f50143cbdc8be613e5105369cd0537">&#9670;&#160;</a></span>mpas_log_open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public mpas_log::mpas_log_open </td>
          <td>(</td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>openErrorFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Connects to a log file for the log module to use. </p>
<dl class="section author"><dt>Author</dt><dd>Matt Hoffman </dd></dl>
<dl class="section date"><dt>Date</dt><dd>16 February 2017</dd></dl>
<p>This routine connects to a log file for the log module to use. By default, a new file with a new file unit is opened. Optionally, a fileUnit can be passed in that must already be attached to an appropriate file. By default, an output log file is opened, but optionally this can be an error file. This routine assumes that the log manager has been initialized and all log settings are set correctly, including filename, active status, etc. It uses the module-level pointer instance of the log manager. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">openerrorfile</td><td>Input - Optional: flag to indicate this task's error file should be opened Default = false, meaning open output log file </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>Output - Optional: error flag </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mpas__log_8F_source.html#l00305">305</a> of file <a class="el" href="mpas__log_8F_source.html">mpas_log.F</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_ad1f50143cbdc8be613e5105369cd0537_cgraph.png" border="0" usemap="#anamespacempas__log_ad1f50143cbdc8be613e5105369cd0537_cgraph" alt=""/></div>
<map name="anamespacempas__log_ad1f50143cbdc8be613e5105369cd0537_cgraph" id="anamespacempas__log_ad1f50143cbdc8be613e5105369cd0537_cgraph">
<area shape="rect" title="Connects to a log file for the log module to use." alt="" coords="5,45,200,70"/>
<area shape="rect" href="namespacempas__abort.html#a951a52a61219f104a3c718dafed9aab5" title="Forces the exit of all processes in MPI_COMM_WORLD." alt="" coords="248,37,440,77"/>
<area shape="rect" href="namespacempas__io__units.html#a8a13af4a8cdee0460f86e1fe7bb1b0c3" title="MPAS New unit routine." alt="" coords="510,5,670,45"/>
<area shape="rect" href="namespacempas__threading.html#a81ccf1fb8a232af4532facd308d5445c" title="MPAS Threading get thread number function." alt="" coords="488,69,692,109"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_ad1f50143cbdc8be613e5105369cd0537_icgraph.png" border="0" usemap="#anamespacempas__log_ad1f50143cbdc8be613e5105369cd0537_icgraph" alt=""/></div>
<map name="anamespacempas__log_ad1f50143cbdc8be613e5105369cd0537_icgraph" id="anamespacempas__log_ad1f50143cbdc8be613e5105369cd0537_icgraph">
<area shape="rect" title="Connects to a log file for the log module to use." alt="" coords="1163,1311,1357,1337"/>
<area shape="rect" href="namespaceatm__core__interface.html#af1d21fbc1aa35aec95affe8bbf5f00cb" title="Log setup routine." alt="" coords="704,5,852,45"/>
<area shape="rect" href="namespaceinit__atm__core__interface.html#a574888643486ba4af5c5c6b77add8569" title="Log setup routine." alt="" coords="690,69,866,109"/>
<area shape="rect" href="namespaceli__core__interface.html#a1564bcdae325144610e9b85cd0327e3d" title="Log setup routine." alt="" coords="963,1272,1102,1312"/>
<area shape="rect" href="namespacempas__log.html#a74383116fd6bd17e9b94b49f81860e93" title="Writes a message to the log file." alt="" coords="955,1208,1111,1248"/>
<area shape="rect" href="namespaceocn__core__interface.html#a0d5417549aa3ffdfdfbc427209316606" title="Log setup routine." alt="" coords="960,1336,1105,1376"/>
<area shape="rect" href="namespaceseaice__core__interface.html#a07d35c24ed4c315d9d6e7959fa6e9f91" title="Log setup routine." alt="" coords="951,1400,1115,1440"/>
<area shape="rect" href="namespacesw__core__interface.html#a2ced7a5a128f046148ecd52f105046cd" title="Log setup routine." alt="" coords="959,1464,1107,1504"/>
<area shape="rect" href="namespacetest__core__interface.html#a468ce8ed26183e744d895dac2228d171" title="Log setup routine." alt="" coords="959,1528,1106,1568"/>
<area shape="rect" href="namespaceatm__core__interface.html#a104bd5f2b24ee72dbd378d3f8d853e29" title="Atmosphere core setup routine." alt="" coords="5,789,153,829"/>
<area shape="rect" href="namespaceinit__atm__core__interface.html#a6e3e2b14ef27bc9bb6b4f82cbd1b9f7f" title="Init atmosphere core setup routine." alt="" coords="429,69,605,109"/>
<area shape="rect" href="namespaceli__core__interface.html#a2e48e39214f0be7f8ca35c73e7f6de9c" title="Land ice core setup routine." alt="" coords="709,2552,847,2592"/>
<area shape="rect" href="mpas__atmphys__rrtmg__lwinit_8F.html#a069914443712227b9698354b0039ee9c" title=" " alt="" coords="689,1016,867,1056"/>
<area shape="rect" href="mpas__atmphys__rrtmg__swinit_8F.html#a5875a19013a0eb8322eba74f173a40a1" title=" " alt="" coords="689,1080,867,1120"/>
<area shape="rect" href="namespacempas__forcing.html#a3018b224805a688795d80bf941c791db" title="add a new forcing field to the forcing stream" alt="" coords="681,1144,875,1184"/>
<area shape="rect" href="namespaceli__advection.html#a3dceef83cbd441d7456fa4b651a96340" title="Advect thickness and tracers using a first&#45;order upwind scheme." alt="" coords="679,1208,877,1248"/>
<area shape="rect" href="namespaceli__time__integration__fe.html#a55cc16587ac35ff1ac6e176b5d4bef23" title="Advect thickness and tracers." alt="" coords="697,1272,859,1312"/>
<area shape="rect" href="namespaceseaice__velocity__solver.html#a871088e50c7fc537aa49b274a0f9626b" title=" " alt="" coords="432,1365,603,1405"/>
<area shape="rect" href="namespaceatm__advection.html#afea08d4eb3944075b1d16b8f8408fcbd" title=" " alt="" coords="705,1451,851,1491"/>
<area shape="rect" href="namespaceatm__core.html#a8e8d0eec03f991ae91cfd4f2c46598e7" title=" " alt="" coords="687,736,869,776"/>
<area shape="rect" href="namespaceatm__core.html#ab56c4d2a9d892ccc84cd102698988747" title=" " alt="" coords="437,757,597,797"/>
<area shape="rect" href="namespaceatm__core.html#a0659d498c0831e5af045c2b189fcd21d" title=" " alt="" coords="201,765,381,790"/>
<area shape="rect" href="namespaceatm__core.html#a9a217bedfc2045be61882ededb24c41b" title=" " alt="" coords="215,820,367,860"/>
<area shape="rect" href="namespaceatm__core.html#a7a2a9ad754bbe9947ddc39c1bd47a429" title=" " alt="" coords="201,895,381,921"/>
<area shape="rect" href="namespacempas__atm__iau.html#af893ee8c22a3f09fbd817e8251ec03a1" title=" " alt="" coords="671,1515,885,1541"/>
<area shape="rect" href="namespaceatm__core.html#adf65df27c10acc004d45e93defe007ae" title=" " alt="" coords="681,1565,875,1605"/>
<area shape="rect" href="namespacempas__atmphys__packages.html#acc72842bbffed8b75e34ac23db1ea1ef" title=" " alt="" coords="679,1629,877,1669"/>
<area shape="rect" href="namespaceseaice__velocity__solver__unit__tests.html#a5de3f9de32ed9006c88db22fbee94d35" title=" " alt="" coords="663,1694,893,1749"/>
<area shape="rect" href="namespaceinit__atm__bitarray.html#a01b6edda2b7ebbb8a0a35142b42acc41" title=" " alt="" coords="707,1773,849,1813"/>
<area shape="rect" href="namespaceinit__atm__bitarray.html#a53ff6a4a681ddf5aa033039a0b798a65" title=" " alt="" coords="707,1837,849,1877"/>
<area shape="rect" href="namespaceinit__atm__cases.html#a15acaab28533416930cc84c92ee65a81" title="Combines first&#45;guess terrain with static terrain along regional domain boundaries." alt="" coords="696,1901,860,1941"/>
<area shape="rect" href="namespaceseaice__velocity__solver.html#a3e9f8c65b6fd21cc071552590f9c059e" title=" " alt="" coords="693,1965,863,2005"/>
<area shape="rect" href="namespaceseaice__advection__incremental__remap.html#aa05cf9fe43fd2b4d78858f0c17d1d13f" title="Checks the number of halo layers against vertex degree." alt="" coords="653,2029,903,2069"/>
<area shape="rect" href="interfacecheck__regex__match.html#acc484dfd5d8bb3c0d04e1623c65c812b" title=" " alt="" coords="698,2093,858,2133"/>
<area shape="rect" href="namespaceli__subglacial__hydro.html#aab6e67aa7116eff32238998718ca9ccd" title="Calculate SGH timesteps and check current timestep." alt="" coords="705,2157,851,2197"/>
<area shape="rect" href="namespaceseaice__column.html#ab677ea07911a5fb6d7425f9153277ee5" title=" " alt="" coords="691,2221,865,2261"/>
<area shape="rect" href="namespaceconvective__diagnostics.html#a19bbf4115809f7c8c8708e10256cbd68" title=" " alt="" coords="691,2309,865,2349"/>
<area shape="rect" href="namespaceseaice__column.html#a4568e1e4104e0f228a40ba11394bc2dc" title=" " alt="" coords="430,2401,605,2441"/>
<area shape="rect" href="namespaceseaice__column.html#a35b916003dbaae9980c736ca5a934578" title=" " alt="" coords="691,2488,865,2528"/>
<area shape="rect" href="namespacempas__init__atm__gwd.html#aa835164bdfe3b71199be3a32306f28a6" title="Main routine for computing GWDO fields on an MPAS mesh." alt="" coords="697,133,859,173"/>
<area shape="rect" href="namespaceseaice__column.html#a26c22acfa44d3e6511e78996499feee5" title=" " alt="" coords="695,197,861,237"/>
<area shape="rect" href="namespaceseaice__velocity__solver.html#a41e06f2f9bbcc5f3d5207036290fcdb4" title=" " alt="" coords="693,1336,863,1376"/>
<area shape="rect" href="namespaceinit__atm__cases.html#a653ff7fb29146586c3836e70b79f0383" title="Converts an RH field given w.r.t. liquid water to RH w.r.t. ice below freezing." alt="" coords="689,261,867,301"/>
<area shape="rect" href="namespacempas__forcing.html#ad35d537ff0a27971bc5666dee0365ceb" title="create a new forcing stream" alt="" coords="697,325,859,365"/>
<area shape="rect" href="namespacempas__atmphys__functions.html#a71ffc8407e2cc79ff046ff3a3572d0f0" title=" " alt="" coords="683,413,873,453"/>
<area shape="rect" href="namespaceseaice__column.html#aa7660d56432843b63333407c4b91550b" title=" " alt="" coords="704,2373,852,2413"/>
<area shape="rect" href="namespaceseaice__velocity__solver__wachspress.html#a5d210e4db75378cefac1027570599a6d" title=" " alt="" coords="672,478,884,533"/>
<area shape="rect" href="namespaceseaice__velocity__solver.html#a3d76f0983aa2cdf2e5d4a0719c75418f" title=" " alt="" coords="693,557,863,597"/>
<area shape="rect" href="namespaceinit__atm__llxy.html#a481a398e88ff5dfd960f4f5d76a5542e" title=" " alt="" coords="707,621,849,661"/>
<area shape="rect" href="namespaceseaice__advection__incremental__remap.html#a47fe43b3513f6a8877e8d457028d6339" title="MPAS&#45;Seaice incremental remapping driver." alt="" coords="654,952,902,992"/>
</map>
</div>

</div>
</div>
<a id="a74383116fd6bd17e9b94b49f81860e93" name="a74383116fd6bd17e9b94b49f81860e93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74383116fd6bd17e9b94b49f81860e93">&#9670;&#160;</a></span>mpas_log_write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">recursive subroutine, public mpas_log::mpas_log_write </td>
          <td>(</td>
          <td class="paramtype">character (len=*), intent(in)&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(in), optional&#160;</td>
          <td class="paramname"><em>messageType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>masterOnly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, intent(in), optional&#160;</td>
          <td class="paramname"><em>flushNow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>intArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mpas__ocn__okubo__weiss__eigenvalues_8c.html#a11d147c64891830c9e79b3315b1b2e21">real</a>(kind=<a class="el" href="namespacempas__kind__types.html#a0a2e4f0c58645baeddb3cf6420860d34">rkind</a>), dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>realArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">logical, dimension(:), intent(in), optional&#160;</td>
          <td class="paramname"><em>logicArgs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out), optional&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a message to the log file. </p>
<dl class="section author"><dt>Author</dt><dd>Matt Hoffman </dd></dl>
<dl class="section date"><dt>Date</dt><dd>14 February 2017</dd></dl>
<p>This routine writes a message to the log file. The message is the only required argument. A number of optional arguments control additional behavior: messageType: MPAS_LOG_OUT = output (default) MPAS_LOG_WARN = warning MPAS_LOG_ERR = error (written to both output and error log files) MPAS_LOG_CRIT = critical error (written to both output and error log files and kills model) masterOnly: flag indicating only the master task should write this message, regardless of if all tasks have open log files. flushNow: flag indicating the message should be flushed immediately. Note: error and critical error messages are always flushed immediately. intArgs, realArgs, logicArgs: arrays of variable values to be inserted into the message to replace the following characters: $i, $r, $l See routine log_expand_string below for details. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>Input: message to be printed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">messagetype</td><td>Input: message "type" output (default), warning, error, critical error (integer values defined by public parameters MPAS_LOG_* in mpas_log_types.F) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">masteronly</td><td>Input: flag to only print message on master task </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flushnow</td><td>Input: flag to force a flush of the message buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">intargs</td><td>Input: integer variable values to insert into message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">realargs</td><td>Input: real variable values to insert into message Input: exponential notation variable values to insert into message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">logicargs</td><td>Input: logical variable values to insert into message </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">err</td><td>Output: error flag </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="mpas__log_8F_source.html#l00464">464</a> of file <a class="el" href="mpas__log_8F_source.html">mpas_log.F</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacempas__log_a74383116fd6bd17e9b94b49f81860e93_cgraph.png" border="0" usemap="#anamespacempas__log_a74383116fd6bd17e9b94b49f81860e93_cgraph" alt=""/></div>
<map name="anamespacempas__log_a74383116fd6bd17e9b94b49f81860e93_cgraph" id="anamespacempas__log_a74383116fd6bd17e9b94b49f81860e93_cgraph">
<area shape="rect" title="Writes a message to the log file." alt="" coords="5,69,161,109"/>
<area shape="rect" href="namespacempas__log.html#ad1f50143cbdc8be613e5105369cd0537" title="Connects to a log file for the log module to use." alt="" coords="209,23,404,49"/>
<area shape="rect" href="namespacempas__threading.html#a81ccf1fb8a232af4532facd308d5445c" title="MPAS Threading get thread number function." alt="" coords="692,69,896,109"/>
<area shape="rect" href="namespacempas__threading.html#a0a14c12e17e33d87ab46d10701fe3a76" title="MPAS Threading in parallel function." alt="" coords="221,127,392,167"/>
<area shape="rect" href="namespacempas__abort.html#a951a52a61219f104a3c718dafed9aab5" title="Forces the exit of all processes in MPI_COMM_WORLD." alt="" coords="452,12,644,52"/>
<area shape="rect" href="namespacempas__io__units.html#a8a13af4a8cdee0460f86e1fe7bb1b0c3" title="MPAS New unit routine." alt="" coords="714,5,874,45"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6dc52d945b79f9baee42caf8b30edb67" name="a6dc52d945b79f9baee42caf8b30edb67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dc52d945b79f9baee42caf8b30edb67">&#9670;&#160;</a></span>mpas_log_info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">type (mpas_log_type), pointer, public mpas_log::mpas_log_info =&gt; null()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>derived type holding the metadata for a logging manager instance Each core needs to set this up. Note that this pointer can be externally reassigned if the logging instance needs to be swapped (e.g., when multiple logging instances are running in an ESM). </p>

<p class="definition">Definition at line <a class="el" href="mpas__log_8F_source.html#l00053">53</a> of file <a class="el" href="mpas__log_8F_source.html">mpas_log.F</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
