<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MPAS-analisys: ocn_init_ssh_and_landicepressure Module Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="logoMonanColor_75x75.png"/></td>
  <td id="projectalign">
   <div id="projectname">MPAS-analisys<span id="projectnumber">&#160;teste</span>
   </div>
   <div id="projectbrief">teste</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions/Subroutines</a>  </div>
  <div class="headertitle"><div class="title">ocn_init_ssh_and_landicepressure Module Reference</div></div>
</div><!--header-->
<div class="contents">

<p>MPAS ocean initialize matching SSH and land-ice pressure.  
<a href="namespaceocn__init__ssh__and__landicepressure.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions/Subroutines</h2></td></tr>
<tr class="memitem:a8c65d54a59998c814eac1ec6944d7da0"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceocn__init__ssh__and__landicepressure.html#a8c65d54a59998c814eac1ec6944d7da0">ocn_init_ssh_and_landicepressure_vertical_grid</a> (domain, iErr)</td></tr>
<tr class="memdesc:a8c65d54a59998c814eac1ec6944d7da0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize z* vertical grid based on SSH.  <a href="namespaceocn__init__ssh__and__landicepressure.html#a8c65d54a59998c814eac1ec6944d7da0">More...</a><br /></td></tr>
<tr class="separator:a8c65d54a59998c814eac1ec6944d7da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ab47fa821d40a448a6fefc2689ae498"><td class="memItemLeft" align="right" valign="top">subroutine, public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceocn__init__ssh__and__landicepressure.html#a2ab47fa821d40a448a6fefc2689ae498">ocn_init_ssh_and_landicepressure_balance</a> (domain, iErr)</td></tr>
<tr class="memdesc:a2ab47fa821d40a448a6fefc2689ae498"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the balance land-ice pressure given the SSH or visa versa.  <a href="namespaceocn__init__ssh__and__landicepressure.html#a2ab47fa821d40a448a6fefc2689ae498">More...</a><br /></td></tr>
<tr class="separator:a2ab47fa821d40a448a6fefc2689ae498"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >MPAS ocean initialize matching SSH and land-ice pressure. </p>
<dl class="section author"><dt>Author</dt><dd>Xylar Asay-Davis </dd></dl>
<dl class="section date"><dt>Date</dt><dd>06/05/2015</dd></dl>
<p>This module contains the routines for aiding in initializing the land-ice pressure based on the sea-surface height (SSH) so that the barotropic pressure-gradient force (PGF) is initially small </p>
</div><h2 class="groupheader">Function/Subroutine Documentation</h2>
<a id="a2ab47fa821d40a448a6fefc2689ae498" name="a2ab47fa821d40a448a6fefc2689ae498"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ab47fa821d40a448a6fefc2689ae498">&#9670;&#160;</a></span>ocn_init_ssh_and_landicepressure_balance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ocn_init_ssh_and_landicepressure::ocn_init_ssh_and_landicepressure_balance </td>
          <td>(</td>
          <td class="paramtype">type (domain_type), intent(inout)&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iErr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Compute the balance land-ice pressure given the SSH or visa versa. </p>
<dl class="section author"><dt>Author</dt><dd>Xylar Asay-Davis </dd></dl>
<dl class="section date"><dt>Date</dt><dd>8/8/2016</dd></dl>
<p>This routine either updates SSH based on land-ice pressure (if config_iterative_init_variable = 'ssh') or visa versa (if config_iterative_init_variable = 'landIcePressure' or 'landIcePressure_from_top_density'). The routine produces an initial guess at land-ice pressure or SSH using either the density of the topmost layer ('landIcePressure_from_top_density') or of all layers above the SSH ('ssh' or 'landIcePressure') to determine the effective density of seawater within the land ice. The resulting land-ice pressure and SSH are approximately consistent with one another in the sense that the horizontal pressure-gradient force (HPGF) should be small at the ocean surface. ocn_init_ssh_and_landIcePressure_vertical_grid should be called to produce the appropriate vertical grid before calling this subroutine. activeTracers should be initialized based on this vertical grid. Upon completion, the vertical grid will have been updated to be consistent with the SSH and the activeTracers will have been interpolated to the new grid. </p>

<p class="definition">Definition at line <a class="el" href="mpas__ocn__init__ssh__and__landIcePressure_8F_source.html#l00130">130</a> of file <a class="el" href="mpas__ocn__init__ssh__and__landIcePressure_8F_source.html">mpas_ocn_init_ssh_and_landIcePressure.F</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_cgraph.png" border="0" usemap="#anamespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_cgraph" alt=""/></div>
<map name="anamespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_cgraph" id="anamespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_cgraph">
<area shape="rect" title="Compute the balance land&#45;ice pressure given the SSH or visa versa." alt="" coords="5,515,315,555"/>
<area shape="rect" href="namespacempas__pool__routines.html#a5c311371a112b762216197e6b4b941b8" title="MPAS Pool Subpool access subroutine." alt="" coords="629,425,816,465"/>
<area shape="rect" href="namespaceocn__init__vertical__grids.html#a0baec13be58db10743bc8e25b8b52c17" title="Alter bottom depth for partial bottom cells." alt="" coords="632,539,813,594"/>
<area shape="rect" href="namespaceocn__init__vertical__grids.html#ae21a6bb08e8d0c251f5b2ce28e6a9d58" title="Compute auxiliary z&#45;variables from bottomDepth." alt="" coords="363,605,581,659"/>
<area shape="rect" href="namespaceocn__equation__of__state.html#aaff4bef47cc2e313136750c64a437a62" title="Calls equation of state." alt="" coords="383,327,561,382"/>
<area shape="rect" href="namespaceocn__init__interpolation.html#ae5f7a3ca74062ab3824222a93a702824" title="linearly interpolate a field in the vertical" alt="" coords="387,683,557,738"/>
<area shape="rect" href="namespaceocn__init__vertical__grids.html#a46cb0de80be6ddb2f6b79f3aa89daf69" title="re&#45;initializes the vertical grid so rx1 &lt; rx1Max" alt="" coords="387,474,557,529"/>
<area shape="rect" href="namespacempas__pool__routines.html#a4ab715a373dcc63b73c9c9c1b476a19d" title=" " alt="" coords="898,609,1051,649"/>
<area shape="rect" href="namespacempas__pool__routines.html#aeb78ae0030b1a62b7e88bf1c7927b0d8" title=" " alt="" coords="898,229,1051,269"/>
<area shape="rect" href="namespacempas__pool__routines.html#ae16592c11b643bee126eef0d41049cd0" title=" " alt="" coords="1162,629,1315,669"/>
<area shape="rect" href="namespacempas__c__interfacing.html#a6a8e247ef829d92256634eb1feb80278" title="Converts a Fortran string to a C null&#45;terminated string." alt="" coords="1414,629,1570,669"/>
<area shape="rect" href="namespacempas__log.html#a74383116fd6bd17e9b94b49f81860e93" title="Writes a message to the log file." alt="" coords="1161,107,1317,147"/>
<area shape="rect" href="namespacempas__threading.html#a81ccf1fb8a232af4532facd308d5445c" title="MPAS Threading get thread number function." alt="" coords="1888,247,2092,287"/>
<area shape="rect" href="namespacempas__log.html#ad1f50143cbdc8be613e5105369cd0537" title="Connects to a log file for the log module to use." alt="" coords="1395,70,1589,95"/>
<area shape="rect" href="namespacempas__threading.html#a0a14c12e17e33d87ab46d10701fe3a76" title="MPAS Threading in parallel function." alt="" coords="1407,5,1577,45"/>
<area shape="rect" href="namespacempas__abort.html#a951a52a61219f104a3c718dafed9aab5" title="Forces the exit of all processes in MPI_COMM_WORLD." alt="" coords="1644,56,1836,96"/>
<area shape="rect" href="namespacempas__io__units.html#a8a13af4a8cdee0460f86e1fe7bb1b0c3" title="MPAS New unit routine." alt="" coords="1910,56,2070,96"/>
<area shape="rect" href="namespacempas__timer.html#ad9fdd184cf4b69c61c3b9ec6c365e731" title="MPAS Timer start routine." alt="" coords="881,501,1068,541"/>
<area shape="rect" href="namespacempas__timer.html#a4b62e1a0f4a967bd10da58a8f43dc615" title="MPAS Timer stop routine." alt="" coords="864,337,1085,362"/>
<area shape="rect" href="namespaceocn__equation__of__state__jm.html#aa236a65f1d23f4d4459c0f3bbf97e4f5" title="Calls JM equation of state." alt="" coords="890,99,1059,154"/>
<area shape="rect" href="namespaceocn__equation__of__state__linear.html#a9d68e606343dd79f84601504fc1e4519" title="Calls equation of state." alt="" coords="632,199,813,254"/>
<area shape="rect" href="namespacempas__dmpar.html#a33c44f0a83a9f64efc96946057a81fdf" title="MPAS dmpar get time routine." alt="" coords="1139,565,1339,605"/>
<area shape="rect" href="namespacempas__threading.html#a09a2112c6bc6a42801778e5737100766" title="MPAS Threading barrier routine." alt="" coords="1153,437,1324,477"/>
<area shape="rect" href="namespacempas__threading.html#a10c0d87d53999ca96f4875d85fb40d4e" title="MPAS Threading maximum number of threads function." alt="" coords="1133,501,1344,541"/>
<area shape="rect" href="namespacempas__dmpar.html#aba8aaa5dde69dac102c2022807034d69" title="MPAS dmpar maximum real routine." alt="" coords="1640,329,1840,369"/>
<area shape="rect" href="namespacempas__dmpar.html#a345684f0281cd9e0c71497078d0b5229" title="MPAS dmpar minimum real routine." alt="" coords="1640,393,1840,433"/>
<area shape="rect" href="namespacempas__dmpar.html#af79c18d51f0cfcdece45cbfad143488a" title="MPAS dmpar sum real routine." alt="" coords="1392,221,1592,261"/>
<area shape="rect" href="params_8m.html#a042889eb4a4c0a313ba885e8f173380d" title=" " alt="" coords="703,490,742,515"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_icgraph.png" border="0" usemap="#anamespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_icgraph" alt=""/></div>
<map name="anamespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_icgraph" id="anamespaceocn__init__ssh__and__landicepressure_a2ab47fa821d40a448a6fefc2689ae498_icgraph">
<area shape="rect" title="Compute the balance land&#45;ice pressure given the SSH or visa versa." alt="" coords="1137,101,1447,141"/>
<area shape="rect" href="namespaceocn__init__global__ocean.html#a303c2a81ebcbb482ec2ca0d5fddca68e" title="Setup for global ocean test case." alt="" coords="872,5,1089,45"/>
<area shape="rect" href="namespaceocn__init__isomip.html#af27f26f7cebb3c1d4048ad51913c365a" title="Setup for ISoMIP test cases." alt="" coords="903,69,1058,109"/>
<area shape="rect" href="namespaceocn__init__isomip__plus.html#a1294379434ceca55c9457b519912beab" title="Setup for ISOMIP+ experiments." alt="" coords="876,133,1085,173"/>
<area shape="rect" href="namespaceocn__init__sub__ice__shelf__2d.html#aeede3053858f606e3f9db3fe6ee11feb" title="Setup for this initial condition." alt="" coords="892,198,1069,253"/>
<area shape="rect" href="namespaceocn__init__mode.html#ae7852991a2cf9207e93958ff1f237c67" title="MPAS&#45;Ocean init mode run step." alt="" coords="676,101,824,141"/>
<area shape="rect" href="namespaceocn__core.html#a232280a77ef9ba42b6208040852f360e" title="MPAS&#45;Ocean Run Driver." alt="" coords="453,109,628,134"/>
<area shape="rect" href="namespaceocn__core__interface.html#a6a54bf42bf83f0029e83cdc5c8c31799" title="Ocean core setup routine." alt="" coords="260,101,405,141"/>
<area shape="rect" href="interfacexml__stream__get__attributes.html#a62d18dff6a7fce39175c55fec91108ce" title=" " alt="" coords="5,101,212,141"/>
</map>
</div>

</div>
</div>
<a id="a8c65d54a59998c814eac1ec6944d7da0" name="a8c65d54a59998c814eac1ec6944d7da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c65d54a59998c814eac1ec6944d7da0">&#9670;&#160;</a></span>ocn_init_ssh_and_landicepressure_vertical_grid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">subroutine, public ocn_init_ssh_and_landicepressure::ocn_init_ssh_and_landicepressure_vertical_grid </td>
          <td>(</td>
          <td class="paramtype">type (domain_type), intent(inout)&#160;</td>
          <td class="paramname"><em>domain</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">integer, intent(out)&#160;</td>
          <td class="paramname"><em>iErr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize z* vertical grid based on SSH. </p>
<dl class="section author"><dt>Author</dt><dd>Xylar Asay-Davis </dd></dl>
<dl class="section date"><dt>Date</dt><dd>10/21/2015</dd></dl>
<p>This routine sets up the vertical grid (layerThickness, zMid and restingThickness) needed for computing SSH from land-ice pressure or visa versa. bottomDepth, refBottomDepth, maxLevelCell and modifySSHMask must have been computed by the test case before calling this routine. If config_iterative_init_variable = 'landIcePressure' or 'landIcePressure_from_top_density', the test case must compute ssh before calling this routine. modifySSHMask should be set to 1 wherever the ssh or landIcePressure should be modified for consistency (e.g. under land ice). This routine will take care of setting up partial bottom cells by calling ocn_alter_bottomDepth_for_pbcs (except for the Haney-number-constrained coordinate, which handle thin bottom cells via the Haney-number constraint. </p>

<p class="definition">Definition at line <a class="el" href="mpas__ocn__init__ssh__and__landIcePressure_8F_source.html#l00091">91</a> of file <a class="el" href="mpas__ocn__init__ssh__and__landIcePressure_8F_source.html">mpas_ocn_init_ssh_and_landIcePressure.F</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespaceocn__init__ssh__and__landicepressure_a8c65d54a59998c814eac1ec6944d7da0_icgraph.png" border="0" usemap="#anamespaceocn__init__ssh__and__landicepressure_a8c65d54a59998c814eac1ec6944d7da0_icgraph" alt=""/></div>
<map name="anamespaceocn__init__ssh__and__landicepressure_a8c65d54a59998c814eac1ec6944d7da0_icgraph" id="anamespaceocn__init__ssh__and__landicepressure_a8c65d54a59998c814eac1ec6944d7da0_icgraph">
<area shape="rect" title="Initialize z* vertical grid based on SSH." alt="" coords="1137,94,1388,149"/>
<area shape="rect" href="namespaceocn__init__global__ocean.html#a303c2a81ebcbb482ec2ca0d5fddca68e" title="Setup for global ocean test case." alt="" coords="872,5,1089,45"/>
<area shape="rect" href="namespaceocn__init__isomip.html#af27f26f7cebb3c1d4048ad51913c365a" title="Setup for ISoMIP test cases." alt="" coords="903,69,1058,109"/>
<area shape="rect" href="namespaceocn__init__isomip__plus.html#a1294379434ceca55c9457b519912beab" title="Setup for ISOMIP+ experiments." alt="" coords="876,133,1085,173"/>
<area shape="rect" href="namespaceocn__init__sub__ice__shelf__2d.html#aeede3053858f606e3f9db3fe6ee11feb" title="Setup for this initial condition." alt="" coords="892,198,1069,253"/>
<area shape="rect" href="namespaceocn__init__mode.html#ae7852991a2cf9207e93958ff1f237c67" title="MPAS&#45;Ocean init mode run step." alt="" coords="676,101,824,141"/>
<area shape="rect" href="namespaceocn__core.html#a232280a77ef9ba42b6208040852f360e" title="MPAS&#45;Ocean Run Driver." alt="" coords="453,109,628,134"/>
<area shape="rect" href="namespaceocn__core__interface.html#a6a54bf42bf83f0029e83cdc5c8c31799" title="Ocean core setup routine." alt="" coords="260,101,405,141"/>
<area shape="rect" href="interfacexml__stream__get__attributes.html#a62d18dff6a7fce39175c55fec91108ce" title=" " alt="" coords="5,101,212,141"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
